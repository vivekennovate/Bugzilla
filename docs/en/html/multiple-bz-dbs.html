<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><title>2.4. Multiple Bugzilla databases with a single installation</title><link rel="stylesheet" href="../../style.css" type="text/css"><meta name="generator" content="DocBook XSL Stylesheets V1.75.2"><meta name="keywords" content="Bugzilla, Guide, installation, FAQ, administration, integration, MySQL, Mozilla, webtools"><link rel="home" href="index.html" title="The Bugzilla Guide - 4.4 Release"><link rel="up" href="installing-bugzilla.html" title="Chapter 2. Installing Bugzilla"><link rel="prev" href="extraconfig.html" title="2.3. Optional Additional Configuration"><link rel="next" href="os-specific.html" title="2.5. OS-Specific Installation Notes"></head><body bgcolor="white" text="black" link="#0000FF" vlink="#840084" alink="#0000FF"><div class="navheader"><table width="100%" summary="Navigation header"><tr><th colspan="3" align="center">2.4. Multiple Bugzilla databases with a single installation</th></tr><tr><td width="20%" align="left"><a accesskey="p" href="extraconfig.html">Prev</a> </td><th width="60%" align="center">Chapter 2. Installing Bugzilla</th><td width="20%" align="right"> <a accesskey="n" href="os-specific.html">Next</a></td></tr></table><hr></div><div class="section" title="2.4. Multiple Bugzilla databases with a single installation"><div class="titlepage"><div><div><h2 class="title" style="clear: both"><a name="multiple-bz-dbs"></a>2.4. Multiple Bugzilla databases with a single installation</h2></div></div></div><p>The previous instructions referred to a standard installation, with
      one unique Bugzilla database. However, you may want to host several
      distinct installations, without having several copies of the code. This is
      possible by using the PROJECT environment variable. When accessed,
      Bugzilla checks for the existence of this variable, and if present, uses
      its value to check for an alternative configuration file named
      <code class="filename">localconfig.&lt;PROJECT&gt;</code> in the same location as
      the default one (<code class="filename">localconfig</code>). It also checks for
      customized templates in a directory named
      <code class="filename">&lt;PROJECT&gt;</code> in the same location as the
      default one (<code class="filename">template/&lt;langcode&gt;</code>). By default
      this is <code class="filename">template/en/default</code> so PROJECT's templates
      would be located at <code class="filename">template/en/PROJECT</code>.</p><p>To set up an alternate installation, just export PROJECT=foo before
      running <span class="command"><strong>checksetup.pl</strong></span> for the first time. It will
      result in a file called <code class="filename">localconfig.foo</code> instead of
      <code class="filename">localconfig</code>. Edit this file as described above, with
      reference to a new database, and re-run <span class="command"><strong>checksetup.pl</strong></span>
      to populate it. That's all.</p><p>Now you have to configure the web server to pass this environment
      variable when accessed via an alternate URL, such as virtual host for
      instance. The following is an example of how you could do it in Apache,
      other Webservers may differ.
</p><pre class="programlisting">
&lt;VirtualHost 212.85.153.228:80&gt;
    ServerName foo.bar.baz
    SetEnv PROJECT foo
    Alias /bugzilla /var/www/bugzilla
&lt;/VirtualHost&gt;
</pre><p>
    </p><p>Don't forget to also export this variable before accessing Bugzilla
       by other means, such as cron tasks for instance.</p></div><div class="navfooter"><hr><table width="100%" summary="Navigation footer"><tr><td width="40%" align="left"><a accesskey="p" href="extraconfig.html">Prev</a> </td><td width="20%" align="center"><a accesskey="u" href="installing-bugzilla.html">Up</a></td><td width="40%" align="right"> <a accesskey="n" href="os-specific.html">Next</a></td></tr><tr><td width="40%" align="left" valign="top">2.3. Optional Additional Configuration </td><td width="20%" align="center"><a accesskey="h" href="index.html">Home</a></td><td width="40%" align="right" valign="top"> 2.5. OS-Specific Installation Notes</td></tr></table></div></body></html>
